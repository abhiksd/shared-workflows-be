# =======================================================================
# BASE APPLICATION CONFIGURATION
# =======================================================================

# Application Information
spring.application.name=my-app
api.name=Helper App
api.version=v1
api.endpoint=my-app

# Server Configuration
server.error.whitelabel.enabled=false
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# Spring Boot Configuration
spring.banner.location=classpath:banner.txt
spring.main.allow-bean-definition-overriding=false
spring.main.allow-circular-references=false

# Profile Configuration
spring.profiles.group.local=local,common,actuator
spring.profiles.group.dev=dev,common,actuator
spring.profiles.group.sqe=sqe,common,actuator
spring.profiles.group.ppr=ppr,common,actuator
spring.profiles.group.prod=prod,common,actuator

# =======================================================================
# AZURE KEY VAULT INTEGRATION
# =======================================================================

# Azure Key Vault Configuration
azure.keyvault.enabled=false
azure.keyvault.uri=${AZURE_KEYVAULT_URI:}
azure.keyvault.tenant-id=${AZURE_TENANT_ID:}
azure.keyvault.client-id=${AZURE_CLIENT_ID:}

# Secret refresh configuration
azure.keyvault.secret.property-source-enabled=true
azure.keyvault.secret.property-sources[0].endpoint=${azure.keyvault.uri}
azure.keyvault.secret.property-sources[0].case-sensitive=false

# =======================================================================
# MONITORING & HEALTH
# =======================================================================

# Management endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always
management.endpoint.info.enabled=true
management.endpoint.prometheus.enabled=true

# Health check configuration
management.health.mongo.enabled=true
management.health.diskspace.enabled=true
management.health.ping.enabled=true

# Info configuration
info.app.name=${spring.application.name}
info.app.version=${api.version}
info.app.endpoint=${api.endpoint}

# Metrics configuration
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# =======================================================================
# LOGGING CONFIGURATION
# =======================================================================

# Root logging level
logging.level.root=INFO
logging.level.com.mycompany=INFO
logging.level.org.springframework.security=WARN

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n

# Log file configuration
logging.file.path=/tmp/logs
logging.file.name=${logging.file.path}/${spring.application.name}.log
logging.logback.rollingpolicy.max-file-size=100MB
logging.logback.rollingpolicy.total-size-cap=1GB
logging.logback.rollingpolicy.max-history=7

# =======================================================================
# SECURITY CONFIGURATION
# =======================================================================

# JWT Configuration (will be overridden by Key Vault)
jwt.secret=${JWT_SECRET:default-dev-secret}
jwt.expiration=${JWT_EXPIRATION:86400}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800}

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,https://dev.mydomain.com}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# =======================================================================
# THIRD PARTY INTEGRATIONS
# =======================================================================

# Back4Product Reference URL
back4product.ref.url=${BACK4PRODUCT_REF_URL:https://pnehelper-emea.schneider-electric.com/back4product/v1/}

# =======================================================================
# CACHE CONFIGURATION
# =======================================================================

# Caffeine Cache Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterAccess=3600s
cafeine.expiration.sec=${CAFFEINE_EXPIRATION_SEC:86400}

# =======================================================================
# DEPLOYMENT CONFIGURATION
# =======================================================================

# Blue-Green deployment support
deployment.strategy=${DEPLOYMENT_STRATEGY:rolling}
deployment.slot=${DEPLOYMENT_SLOT:blue}
deployment.blue-green.enabled=${BLUE_GREEN_ENABLED:false}